"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[36],{36:function(e,l,a){a.r(l),a.d(l,{default:function(){return R}});var i=a(6252),s=a(2262),t=a(3577),o=a(9201),d=a(6154);const u=e=>((0,i.dD)("data-v-6b95d9b8"),e=e(),(0,i.Cn)(),e),r={class:"grid"},n={class:"col-12"},m={class:"col-12 lg:col-6"},c={class:"card p-fluid"},f={key:0},p=u((()=>(0,i._)("h4",{align:"center"},"Ajouter Un Fournisseur",-1))),v=[p],U={key:1},S=u((()=>(0,i._)("h4",{align:"center"},"Modifier Un Fournisseur",-1))),b=[S],w={key:2},h={align:"center"},y=u((()=>(0,i._)("hr",null,null,-1))),k={class:"field"},_=u((()=>(0,i._)("label",null,"Nom & Prenom",-1))),g={class:"field"},W=u((()=>(0,i._)("label",null,"Cin",-1))),V={class:"field"},P=u((()=>(0,i._)("label",null,"Telephone",-1))),C={class:"field"},D=u((()=>(0,i._)("label",null,"Adresse",-1))),F={class:"field"},M=u((()=>(0,i._)("label",null,"Email",-1))),z={class:"field"},A=u((()=>(0,i._)("label",null,"matricule Fiscale",-1))),T={class:"field"},q=u((()=>(0,i._)("label",null,"Domaine",-1))),E={key:3},L={key:4},j={key:5},x={class:"card"},H={class:"my-2"};var I={__name:"Fournisseur",setup(e){const l=(0,s.iH)(null),a=(0,o.p)(),u=(0,s.iH)(null),p=(e,l)=>{const a=e[l],i=/^[0-9]*$/;i.test(a)||(e[l]=a.replace(/\D/g,""))};let S=(0,s.iH)({}),I=(0,s.iH)(!1),$=localStorage.getItem("token"),N=async()=>{let e=await d.Z.get("https://api.plaimmobiliere.online/depences/get/fournisseurs",{headers:{Authorization:`${$}`}});e.data.success?l.value=e.data.fournisseur:a.add({severity:"error",summary:"Error",detail:e.data.msg,life:3e3})},R=(0,s.iH)(null),Z=(e,l)=>{I.value=!0,R.value=e||null,S.value=l||{}},O=async()=>{const e={fullname:S.value.fullname,cin:S.value.cin,tel:S.value.tel,adresse:S.value.adresse,email:S.value.email,matriculefiscale:S.value.matriculefiscale,domaine:S.value.domaine},l=await d.Z.post("https://api.plaimmobiliere.online/depences/post/fournisseur/add",e,{headers:{Authorization:`${$}`}});if(l.data.success){a.add({severity:"success",summary:"Succes",detail:"Fournisseur Ajouter",life:3e3}),Z(),N();const e=new Event("new-saved-fournisseur");document.dispatchEvent(e)}else a.add({severity:"error",summary:"Error",detail:l.data.msg,life:3e3}),Z()},B=async()=>{const e={fullname:S.value.fullname,cin:S.value.cin,tel:S.value.tel,adresse:S.value.adresse,email:S.value.email,matriculefiscale:S.value.matriculefiscale,domaine:S.value.domaine},l=await d.Z.put(`https://api.plaimmobiliere.online/depences/update/fournisseurs/${S.value._id}`,e,{headers:{Authorization:`${$}`}});l.data.success?(a.add({severity:"success",summary:"Succes",detail:"Fournisseur Modifié",life:3e3}),G()):(a.add({severity:"error",summary:"Error",detail:l.data.msg,life:3e3}),G())};const G=()=>{I.value=!1,R.value=null,S.value={}};return(0,i.bv)((()=>{N()})),(e,a)=>{const o=(0,i.up)("Toast"),d=(0,i.up)("InputText"),$=(0,i.up)("Button"),N=(0,i.up)("Toolbar"),K=(0,i.up)("Column"),J=(0,i.up)("DataTable");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(o),(0,i._)("div",n,[(0,s.SU)(I)?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,t.C_)(["grid justify-center",{"slide-in":(0,s.SU)(I)}])},[(0,i._)("div",m,[(0,i._)("div",c,[3===(0,s.SU)(R)?((0,i.wg)(),(0,i.iD)("div",f,v)):(0,i.kq)("",!0),2==(0,s.SU)(R)?((0,i.wg)(),(0,i.iD)("div",U,b)):(0,i.kq)("",!0),1==(0,s.SU)(R)?((0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("h4",h,"à Propos "+(0,t.zw)((0,s.SU)(S).fullname),1)])):(0,i.kq)("",!0),y,(0,i._)("div",k,[_,(0,i.Wm)(d,{autocomplete:"off",modelValue:(0,s.SU)(S).fullname,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,s.SU)(S).fullname=e),modelModifiers:{trim:!0}},null,8,["modelValue"])]),(0,i._)("div",g,[W,(0,i.Wm)(d,{autocomplete:"off",modelValue:(0,s.SU)(S).cin,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,s.SU)(S).cin=e),modelModifiers:{trim:!0},onInput:a[2]||(a[2]=e=>p((0,s.SU)(S),"cin"))},null,8,["modelValue"])]),(0,i._)("div",V,[P,(0,i.Wm)(d,{useGrouping:!1,autocomplete:"off",modelValue:(0,s.SU)(S).tel,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,s.SU)(S).tel=e),modelModifiers:{trim:!0},onInput:a[4]||(a[4]=e=>p((0,s.SU)(S),"tel"))},null,8,["modelValue"])]),(0,i._)("div",C,[D,(0,i.Wm)(d,{autocomplete:"off",modelValue:(0,s.SU)(S).adresse,"onUpdate:modelValue":a[5]||(a[5]=e=>(0,s.SU)(S).adresse=e),modelModifiers:{trim:!0}},null,8,["modelValue"])]),(0,i._)("div",F,[M,(0,i.Wm)(d,{type:"email",autocomplete:"off",modelValue:(0,s.SU)(S).email,"onUpdate:modelValue":a[6]||(a[6]=e=>(0,s.SU)(S).email=e),modelModifiers:{trim:!0}},null,8,["modelValue"])]),(0,i._)("div",z,[A,(0,i.Wm)(d,{autocomplete:"off",modelValue:(0,s.SU)(S).matriculefiscale,"onUpdate:modelValue":a[7]||(a[7]=e=>(0,s.SU)(S).matriculefiscale=e),modelModifiers:{trim:!0}},null,8,["modelValue"])]),(0,i._)("div",T,[q,(0,i.Wm)(d,{autocomplete:"off",modelValue:(0,s.SU)(S).domaine,"onUpdate:modelValue":a[8]||(a[8]=e=>(0,s.SU)(S).domaine=e),modelModifiers:{trim:!0}},null,8,["modelValue"])]),3==(0,s.SU)(R)?((0,i.wg)(),(0,i.iD)("div",E,[(0,i.Wm)($,{label:"Ajouter Fournisseur",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:a[9]||(a[9]=e=>(0,s.SU)(O)()),disabled:!(0,s.SU)(S).fullname||!(0,s.SU)(S).cin||!(0,s.SU)(S).tel||!(0,s.SU)(S).adresse||!(0,s.SU)(S).email||!(0,s.SU)(S).matriculefiscale||!(0,s.SU)(S).domaine},null,8,["disabled"])])):(0,i.kq)("",!0),2==(0,s.SU)(R)?((0,i.wg)(),(0,i.iD)("div",L,[(0,i.Wm)($,{label:"Modifier",icon:"fas fa-edit",class:"p-button-success mr-2",onClick:a[10]||(a[10]=e=>(0,s.SU)(B)()),disabled:!(0,s.SU)(S).fullname||!(0,s.SU)(S).cin||!(0,s.SU)(S).tel||!(0,s.SU)(S).adresse||!(0,s.SU)(S).email||!(0,s.SU)(S).matriculefiscale||!(0,s.SU)(S).domaine},null,8,["disabled"])])):(0,i.kq)("",!0),1==(0,s.SU)(R)?((0,i.wg)(),(0,i.iD)("div",j,[(0,i.Wm)($,{label:"Femer",icon:"fas fa-times",class:"p-button-success mr-2",onClick:a[11]||(a[11]=e=>G())})])):(0,i.kq)("",!0)])])],2)):(0,i.kq)("",!0),(0,i._)("div",x,[(0,i.Wm)(N,{class:"mb-4"},{start:(0,i.w5)((()=>[(0,i._)("div",H,[(0,i.Wm)($,{label:"Ajouter Fournisseur",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:a[12]||(a[12]=e=>(0,s.SU)(Z)(3))})])])),end:(0,i.w5)((()=>[(0,i.Wm)($,{label:"Exporter",icon:"pi pi-upload",class:"p-button-help"})])),_:1}),(0,i.Wm)(J,{ref_key:"dt",ref:u,value:l.value,dataKey:"name",paginator:!0,rows:10,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Fournisseurs",responsiveLayout:"scroll",sortField:"domaine",sortOrder:-1},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{field:"domaine",header:"Domaine",headerStyle:"width:5%; min-width:10rem;",sortable:!0},{body:(0,i.w5)((e=>[(0,i.Uk)((0,t.zw)(e.data.domaine),1)])),_:1}),(0,i.Wm)(K,{field:"fullname",header:"Nom & Prenom",headerStyle:"width:15%; min-width:10rem;",sortable:!0},{body:(0,i.w5)((e=>[(0,i.Uk)((0,t.zw)(e.data.fullname),1)])),_:1}),(0,i.Wm)(K,{field:"tel",header:"Num Tel.",headerStyle:"width:15%; min-width:10rem;",sortable:!0},{body:(0,i.w5)((e=>[(0,i.Uk)((0,t.zw)(e.data.tel),1)])),_:1}),(0,i.Wm)(K,{field:"adresse",header:"adresse",headerStyle:"width:10%; min-width:10rem;",sortable:!0},{body:(0,i.w5)((e=>[(0,i.Uk)((0,t.zw)(e.data.adresse),1)])),_:1}),(0,i.Wm)(K,{field:"Prix",header:"Prix",headerStyle:"width:10%; min-width:10rem;",sortable:!0},{body:(0,i.w5)((e=>[(0,i.Uk)((0,t.zw)(e.data.matriculefiscale),1)])),_:1}),(0,i.Wm)(K,{headerStyle:"min-width:10rem;"},{body:(0,i.w5)((e=>[(0,i.Wm)($,{icon:"fas fa-eye",class:"p-button-rounded p-button-secondary mr-2",onClick:l=>(0,s.SU)(Z)(1,e.data)},null,8,["onClick"]),(0,i.Wm)($,{icon:"fas fa-edit",class:"p-button-rounded p-button-warning mr-2",onClick:l=>(0,s.SU)(Z)(2,e.data)},null,8,["onClick"])])),_:1})])),_:1},8,["value"])])])])}}},$=a(3744);const N=(0,$.Z)(I,[["__scopeId","data-v-6b95d9b8"]]);var R=N}}]);
//# sourceMappingURL=36.7a09f665.js.map