{"version":3,"file":"js/36.7a09f665.js","mappings":"goCAKA,MAAMA,GAAiB,QAAI,MACrBC,GAAQ,SACRC,GAAK,QAAI,MAGTC,EAAgB,CAACC,EAAYC,KAC/B,MAAQC,EAAQF,EAAWC,GAErBE,EAAQ,WAGTA,EAAMC,KAAKF,KAEZF,EAAWC,GAASC,EAAMG,QAAQ,MAAO,IAC7C,EAIJ,IAAIC,GAAQ,QAAI,CAAC,GACbC,GAAmB,SAAI,GACvBC,EAAWC,aAAaC,QAAQ,SAChCC,EAAkBC,UAClB,IAAIC,QAAiBC,EAAA,MAAU,8DAAgE,CAC3FC,QAAS,CACPC,cAAe,GAAGR,OAGpBK,EAASI,KAAKC,QACdtB,EAAeM,MAAMW,EAASI,KAAKE,YAGnCtB,EAAMuB,IAAI,CACNC,SAAU,QACVC,QAAS,QACTC,OAAQV,EAASI,KAAKO,IACtBC,KAAM,KAEd,EAKAC,GAAU,QAAI,MACdC,EAAsB,CAACC,EAAKX,KAC5BV,EAAmBL,OAAQ,EAEvBwB,EAAUxB,MADV0B,GAIkB,KAGlBtB,EAAQJ,MADRe,GAIgB,CAAC,CACrB,EAGAY,EAAiBjB,UAEjB,MAAMkB,EAAM,CACRC,SAASzB,EAAQJ,MAAM6B,SACvBC,IAAI1B,EAAQJ,MAAM8B,IAClBC,IAAI3B,EAAQJ,MAAM+B,IAClBC,QAAQ5B,EAAQJ,MAAMgC,QACtBC,MAAM7B,EAAQJ,MAAMiC,MACpBC,iBAAiB9B,EAAQJ,MAAMkC,iBAC/BC,QAAQ/B,EAAQJ,MAAMmC,SAEpBxB,QAAeC,EAAA,OAAW,kEAAqEgB,EAAK,CACxGf,QAAS,CACPC,cAAe,GAAGR,OAItB,GAAIK,EAASI,KAAKC,QAAQ,CACtBrB,EAAMuB,IAAI,CACNC,SAAU,UACVC,QAAS,SACTC,OAAQ,sBACRE,KAAM,MAEVE,IACAhB,IACA,MAAM2B,EAAQ,IAAIC,MAAM,yBACxBC,SAASC,cAAcH,EAC3B,MAEIzC,EAAMuB,IAAI,CACNC,SAAU,QACVC,QAAS,QACTC,OAAQV,EAASI,KAAKO,IACtBC,KAAM,MAEVE,GACJ,EAEAe,EAAkB9B,UAClB,MAAMkB,EAAM,CACRC,SAASzB,EAAQJ,MAAM6B,SACvBC,IAAI1B,EAAQJ,MAAM8B,IAClBC,IAAI3B,EAAQJ,MAAM+B,IAClBC,QAAQ5B,EAAQJ,MAAMgC,QACtBC,MAAM7B,EAAQJ,MAAMiC,MACpBC,iBAAiB9B,EAAQJ,MAAMkC,iBAC/BC,QAAQ/B,EAAQJ,MAAMmC,SAEpBxB,QAAeC,EAAA,MAAU,kEAAoER,EAAQJ,MAAMyC,MAAOb,EAAK,CACzHf,QAAS,CACLC,cAAe,GAAGR,OAItBK,EAASI,KAAKC,SACdrB,EAAMuB,IAAI,CACNC,SAAU,UACVC,QAAS,SACTC,OAAQ,sBACRE,KAAM,MAEVmB,MAGA/C,EAAMuB,IAAI,CACNC,SAAU,QACVC,QAAS,QACTC,OAAQV,EAASI,KAAKO,IACtBC,KAAM,MAEVmB,IACJ,EAEJ,MAAMA,EAAmB,KACrBrC,EAAmBL,OAAQ,EAC3BwB,EAAUxB,MAAQ,KAClBI,EAAQJ,MAAQ,CAAC,CAAC,E,OAEtB,SAAU,KACNS,GAAkB,I,60JC1ItB,MAAMkC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://client/./src/views/depenses/Fournisseur.vue","webpack://client/./src/views/depenses/Fournisseur.vue?a4db"],"sourcesContent":["<script setup>\r\nimport { ref, onBeforeMount ,watchEffect, onMounted   } from 'vue';\r\nimport { useToast } from 'primevue/usetoast';\r\nimport { useRoute } from 'vue-router';\r\nimport axios from 'axios';\r\nconst AppartmentData = ref(null);\r\nconst toast = useToast();\r\nconst dt = ref(null);\r\n\r\n\r\nconst validateInput = (dataObject, field) => {\r\n    const   value = dataObject[field];\r\n    // Regular expression to accept only numbers\r\n    const regex = /^[0-9]*$/;\r\n\r\n    // Check if the input matches the regex pattern\r\n    if (!regex.test(value)) {\r\n        // If the input doesn't match the pattern, remove non-numeric characters\r\n        dataObject[field] = value.replace(/\\D/g, '');\r\n    }\r\n};\r\n\r\n\r\nlet dataadd=ref({});\r\nlet showaddfournisseur=ref(false);\r\nlet tokenjwt = localStorage.getItem('token');\r\nlet readfournisseurs= async () =>{\r\n    let response = await axios.get(`${process.env.VUE_APP_HOST_BACKEND}/depences/get/fournisseurs`,{\r\n        headers: {\r\n          Authorization: `${tokenjwt}`,\r\n        },\r\n      });\r\n    if (response.data.success){\r\n        AppartmentData.value=response.data.fournisseur;\r\n    }\r\n    else{\r\n        toast.add({\r\n            severity: 'error',\r\n            summary: 'Error',\r\n            detail: response.data.msg,\r\n            life: 3000,\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\nlet modaltype=ref(null);\r\nlet fshowaddfournisseur = (type,data) => {\r\n    showaddfournisseur.value = true;\r\n    if (type) {\r\n        modaltype.value = type;\r\n    }\r\n    else {\r\n        modaltype.value = null;\r\n    }\r\n    if (data) {\r\n        dataadd.value = data;\r\n    }\r\n    else {\r\n        dataadd.value = {};\r\n    }\r\n};\r\n\r\nlet addfournisseur = async () => {\r\n\r\n    const body ={\r\n        fullname:dataadd.value.fullname,\r\n        cin:dataadd.value.cin,\r\n        tel:dataadd.value.tel,\r\n        adresse:dataadd.value.adresse,\r\n        email:dataadd.value.email,\r\n        matriculefiscale:dataadd.value.matriculefiscale,\r\n        domaine:dataadd.value.domaine,\r\n    }\r\n    const response=await axios.post(`${process.env.VUE_APP_HOST_BACKEND}/depences/post/fournisseur/add`, body,{\r\n      headers: {\r\n        Authorization: `${tokenjwt}`,\r\n      },\r\n    });\r\n\r\n    if (response.data.success){\r\n        toast.add({\r\n            severity: 'success',\r\n            summary: 'Succes',\r\n            detail: 'Fournisseur Ajouter',\r\n            life: 3000,\r\n        });\r\n        fshowaddfournisseur();\r\n        readfournisseurs()\r\n        const event = new Event('new-saved-fournisseur');\r\n        document.dispatchEvent(event);\r\n    }   \r\n    else{\r\n        toast.add({\r\n            severity: 'error',\r\n            summary: 'Error',\r\n            detail: response.data.msg,\r\n            life: 3000,\r\n        });\r\n        fshowaddfournisseur();\r\n    }   \r\n};\r\nlet editfournisseur = async () => {\r\n    const body ={\r\n        fullname:dataadd.value.fullname,\r\n        cin:dataadd.value.cin,\r\n        tel:dataadd.value.tel,\r\n        adresse:dataadd.value.adresse,\r\n        email:dataadd.value.email,\r\n        matriculefiscale:dataadd.value.matriculefiscale,\r\n        domaine:dataadd.value.domaine,\r\n    }\r\n    const response=await axios.put(`${process.env.VUE_APP_HOST_BACKEND}/depences/update/fournisseurs/${dataadd.value._id}`, body,{\r\n        headers: {\r\n            Authorization: `${tokenjwt}`,\r\n        },\r\n    });\r\n\r\n    if (response.data.success){\r\n        toast.add({\r\n            severity: 'success',\r\n            summary: 'Succes',\r\n            detail: 'Fournisseur Modifié',\r\n            life: 3000,\r\n        });\r\n        closefournisseur();\r\n    }   \r\n    else{\r\n        toast.add({\r\n            severity: 'error',\r\n            summary: 'Error',\r\n            detail: response.data.msg,\r\n            life: 3000,\r\n        });\r\n        closefournisseur();\r\n    }   \r\n};\r\nconst closefournisseur  =() =>{\r\n    showaddfournisseur.value = false;\r\n    modaltype.value = null;\r\n    dataadd.value = {};\r\n}\r\nonMounted(() => {\r\n    readfournisseurs();\r\n});\r\n\r\n</script>\r\n\r\n<template>\r\n\r\n    <div class=\"grid\">\r\n        <Toast />\r\n\r\n        <div class=\"col-12\">\r\n            <div class=\"grid justify-center\" :class=\"{ 'slide-in': showaddfournisseur }\" v-if=\"showaddfournisseur\">\r\n                <div class=\"col-12 lg:col-6\">\r\n                    <div class=\"card p-fluid\">\r\n                        <div v-if=\"modaltype===3\"><h4   align=\"center\">Ajouter Un Fournisseur</h4>   </div>\r\n                        <div v-if=\"modaltype==2\"><h4   align=\"center\">Modifier Un Fournisseur</h4>   </div>\r\n                        <div v-if=\"modaltype==1\"><h4   align=\"center\">à Propos {{ dataadd.fullname }}</h4>   </div>\r\n                        <hr>\r\n                        <div class=\"field\">\r\n                            <label>Nom & Prenom</label>\r\n                            <InputText autocomplete=\"off\" v-model.trim=\"dataadd.fullname\" />\r\n                        </div>\r\n                        <div class=\"field\">\r\n                            <label>Cin</label>\r\n                            <InputText    autocomplete=\"off\" v-model.trim=\"dataadd.cin\"    @input=\"validateInput(dataadd, 'cin')\"/>\r\n                        </div>\r\n                        <div class=\"field\">\r\n                            <label>Telephone</label>\r\n                            <InputText :useGrouping=\"false\"   autocomplete=\"off\" v-model.trim=\"dataadd.tel\"  @input=\"validateInput(dataadd, 'tel')\" />\r\n                        </div>\r\n                        <div class=\"field\">\r\n                            <label>Adresse</label>\r\n                            <InputText autocomplete=\"off\" v-model.trim=\"dataadd.adresse\" />\r\n                        </div>\r\n                        <div class=\"field\">\r\n                            <label>Email</label>\r\n                            <InputText type=\"email\" autocomplete=\"off\" v-model.trim=\"dataadd.email\" />\r\n                        </div>\r\n                        <div class=\"field\">\r\n                            <label>matricule Fiscale</label>\r\n                            <InputText autocomplete=\"off\" v-model.trim=\"dataadd.matriculefiscale\" />\r\n                        </div>\r\n                        <div class=\"field\">\r\n                            <label>Domaine</label>\r\n                            <InputText autocomplete=\"off\" v-model.trim=\"dataadd.domaine\" />\r\n                        </div>\r\n                        \r\n                        <div v-if=\"modaltype==3\">  \r\n                            <Button label=\"Ajouter Fournisseur\" icon=\"pi pi-plus\" class=\"p-button-success mr-2\" @click=\"addfournisseur()\"\r\n                                :disabled=\"!dataadd.fullname||!dataadd.cin||!dataadd.tel||!dataadd.adresse||!dataadd.email||!dataadd.matriculefiscale||!dataadd.domaine\"/>\r\n                        </div>\r\n                        <div v-if=\"modaltype==2\">\r\n                            <Button label=\"Modifier\" icon=\"fas fa-edit\" class=\"p-button-success mr-2\" @click=\"editfournisseur()\"\r\n                                :disabled=\"!dataadd.fullname||!dataadd.cin||!dataadd.tel||!dataadd.adresse||!dataadd.email||!dataadd.matriculefiscale||!dataadd.domaine\"/>\r\n                        </div>\r\n                        <div v-if=\"modaltype==1\"> \r\n                            <Button label=\"Femer\" icon=\"fas fa-times\" class=\"p-button-success mr-2\" @click=\"closefournisseur()\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            \r\n            </div>\r\n            <div class=\"card\">\r\n                <Toolbar class=\"mb-4\">\r\n                    <template v-slot:start>\r\n                        <div class=\"my-2\">\r\n                            <Button label=\"Ajouter Fournisseur\" icon=\"pi pi-plus\" class=\"p-button-success mr-2\" @click=\"fshowaddfournisseur(3)\"/>\r\n                        </div>\r\n                    </template>\r\n                    \r\n                    <template v-slot:end>\r\n                        <Button label=\"Exporter\" icon=\"pi pi-upload\" class=\"p-button-help\"  />\r\n                    </template>\r\n                </Toolbar>\r\n                <DataTable\r\n                    ref=\"dt\"\r\n                    :value=\"AppartmentData\"\r\n                    dataKey=\"name\"\r\n                    :paginator=\"true\"\r\n                    :rows=\"10\"\r\n                    paginatorTemplate=\"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\"\r\n                    :rowsPerPageOptions=\"[5, 10, 25]\"\r\n                    currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} Fournisseurs\"\r\n                    responsiveLayout=\"scroll\"\r\n                    sortField=\"domaine\" :sortOrder=\"-1\" \r\n                >    \r\n                   \r\n                    <Column field=\"domaine\" header=\"Domaine\"  headerStyle=\"width:5%; min-width:10rem;\" :sortable=\"true\">\r\n                        <template #body=\"slotProps\">\r\n                            {{ slotProps.data.domaine }}\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"fullname\" header=\"Nom & Prenom\"  headerStyle=\"width:15%; min-width:10rem;\" :sortable=\"true\">\r\n                        <template #body=\"slotProps\">\r\n                            {{ slotProps.data.fullname}}\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"tel\" header=\"Num Tel.\" headerStyle=\"width:15%; min-width:10rem;\" :sortable=\"true\">\r\n                        <template #body=\"slotProps\">\r\n                            {{ slotProps.data.tel }}\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"adresse\" header=\"adresse\"  headerStyle=\"width:10%; min-width:10rem;\" :sortable=\"true\">\r\n                        <template #body=\"slotProps\" >\r\n                            {{ slotProps.data.adresse }}\r\n                        </template>\r\n                    </Column>\r\n                    <Column field=\"Prix\" header=\"Prix\"  headerStyle=\"width:10%; min-width:10rem;\" :sortable=\"true\">\r\n                        <template #body=\"slotProps\" >\r\n                            {{ slotProps.data.matriculefiscale }}\r\n                        </template>\r\n                    </Column>\r\n                    <Column headerStyle=\"min-width:10rem;\">\r\n                        <template #body=\"slotProps\">\r\n                            <Button icon=\"fas fa-eye\"  class=\"p-button-rounded p-button-secondary mr-2 \" @click=\"fshowaddfournisseur(1,slotProps.data)\"/>\r\n                            <Button icon=\"fas fa-edit\"  class=\"p-button-rounded p-button-warning mr-2 \" @click=\"fshowaddfournisseur(2,slotProps.data)\"/>\r\n                        </template>\r\n                    </Column>\r\n                </DataTable>\r\n\r\n                \r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<style scoped>\r\n    @media screen and (min-width: 992px) {\r\n        .input100{\r\n            width: 355% !important;\r\n            display: block;\r\n        }\r\n    }\r\n    .input100{\r\n        width: 100%;\r\n        display: block;\r\n        color: black;\r\n        opacity: 1 !important;\r\n    }\r\n    .line-seperator{\r\n        border: 3px solid #484bad;\r\n        border-radius: 10px;    \r\n    }\r\n    .justify-center{\r\n        justify-content: center;\r\n    }\r\n    .slide-in {\r\n    animation: slideInFromBottom 0.3s ease-in;\r\n  }\r\n\r\n  @keyframes slideInFromBottom {\r\n    from {\r\n      transform: translateY(100%);\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      transform: translateY(0);\r\n      opacity: 1;\r\n    }\r\n  }\r\n</style>\r\n\r\n","import script from \"./Fournisseur.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Fournisseur.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Fournisseur.vue?vue&type=style&index=0&id=6b95d9b8&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\vuejs-pla\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6b95d9b8\"]])\n\nexport default __exports__"],"names":["AppartmentData","toast","dt","validateInput","dataObject","field","value","regex","test","replace","dataadd","showaddfournisseur","tokenjwt","localStorage","getItem","readfournisseurs","async","response","axios","headers","Authorization","data","success","fournisseur","add","severity","summary","detail","msg","life","modaltype","fshowaddfournisseur","type","addfournisseur","body","fullname","cin","tel","adresse","email","matriculefiscale","domaine","event","Event","document","dispatchEvent","editfournisseur","_id","closefournisseur","__exports__"],"sourceRoot":""}