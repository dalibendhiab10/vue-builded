{"version":3,"file":"js/165.8dabd5a1.js","mappings":"61BAOc,UAAd,MACMA,GAAQ,SAEd,IAAIC,EAAWC,aAAaC,QAAQ,SACpC,MAAMC,GAAW,QAAS,CACxB,CAAEC,KAAM,mBAAoBC,MAAO,wBACnC,CAAED,KAAM,eAAgBC,MAAO,6BAEjC,IAAIC,GAAQ,QAAI,CAAC,GACjB,MAAMC,GAAU,QAAI,CAAC,GACfC,EAAWC,UACb,IACA,MAAMC,QAAiBC,EAAA,MAAU,kDAAqD,CACpFC,QAAS,CACPC,cAAe,GAAGb,OAGtBO,EAAQO,MAAQJ,EAASK,KAAKC,IAChC,CAAE,MAAOC,GACPC,QAAQC,IAAIF,EACd,IAGF,SAAcR,UACVD,IACAF,EAAQQ,MAAMT,MAAMF,EAAS,GAAGE,MAChCC,EAAQQ,MAAMV,KAAKD,EAAS,GAAGC,QAGnC,IAAIgB,GAAW,SAAI,GACnB,MAAMC,EAAW,KACbD,EAAWN,OAAOM,EAAWN,MAC7BI,QAAQC,IAAIC,EAAWN,OACnBM,EAAWN,OAMXR,EAAQQ,MAAMT,MAAMF,EAAS,GAAGE,MAChCC,EAAQQ,MAAMV,KAAKD,EAAS,GAAGC,OAN/BI,IACAF,EAAQQ,MAAMT,MAAMF,EAAS,GAAGE,MAChCC,EAAQQ,MAAMV,KAAKD,EAAS,GAAGC,KAKnC,EAEEkB,EAAa,KACf,IAAIC,EAAO,CACPC,SAAUjB,EAAQO,MAAMU,SACxBC,IAAKlB,EAAQO,MAAMW,IACnBC,IAAKnB,EAAQO,MAAMY,IACnBC,QAASpB,EAAQO,MAAMa,QACvBC,MAAOrB,EAAQO,MAAMc,MACrBC,QAAStB,EAAQO,MAAMe,QACvBC,MAAOvB,EAAQO,MAAMgB,MACrBC,SAAUxB,EAAQO,MAAMiB,UAE5Bb,QAAQC,IAAII,GACZZ,EAAA,MAAU,wDAA0DY,EAAM,CACxEX,QAAS,CACPC,cAAe,GAAGb,OAEnBgC,MAAMtB,IACLF,IACAT,EAAMkC,IAAI,CACRC,SAAU,UACVC,QAAS,SACTC,OAAQ,kBACRC,KAAM,MAERjB,EAAWN,OAAOM,EAAWN,MAC7BR,EAAQQ,MAAMT,MAAMF,EAAS,GAAGE,MAChCC,EAAQQ,MAAMV,KAAKD,EAAS,GAAGC,QAEhCkC,OAAM,SAAUrB,GACfC,QAAQC,IAAIF,GACZlB,EAAMkC,IAAI,CACRC,SAAU,QACVC,QAAS,SACTC,OAAQ,sBACRC,KAAM,KAEV,GAAE,E,+vEChFR,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://client/./src/views/user/UserSettings.vue","webpack://client/./src/views/user/UserSettings.vue?7f69"],"sourcesContent":["<script setup>\r\nimport { ref,reactive, onBeforeMount ,watchEffect   } from 'vue';\r\nimport { useToast } from 'primevue/usetoast';\r\n\r\nimport { useRoute } from 'vue-router';\r\nimport axios from 'axios';\r\n\r\nconst route = useRoute();  \r\nconst toast = useToast();\r\n\r\nlet tokenjwt = localStorage.getItem('token');\r\nconst databtns = reactive([\r\n  { icon: 'fas fa-user-edit', label: 'Modifier Utilisateur' },\r\n  { icon: 'fas fa-times', label: 'Annuler la modification' }\r\n]);\r\nlet databtn=ref({})\r\nconst dataadd = ref({}); // Initialize as null\r\nconst readdata = async ( ) =>{\r\n    try {\r\n    const response = await axios.get(`${process.env.VUE_APP_HOST_BACKEND}/users/getuser`, {\r\n      headers: {\r\n        Authorization: `${tokenjwt}`,\r\n      },\r\n    });\r\n    dataadd.value = response.data.user;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n\r\n}\r\nonBeforeMount(async () => {\r\n    readdata()\r\n    databtn.value.label=databtns[0].label\r\n    databtn.value.icon=databtns[0].icon\r\n});\r\n\r\nlet isdisabled=ref(true);\r\nconst edituser = () =>{\r\n    isdisabled.value=!isdisabled.value;\r\n    console.log(isdisabled.value)\r\n    if(!isdisabled.value){\r\n        readdata()\r\n        databtn.value.label=databtns[1].label\r\n        databtn.value.icon=databtns[1].icon\r\n    }\r\n    else{\r\n        databtn.value.label=databtns[0].label\r\n        databtn.value.icon=databtns[0].icon\r\n    }\r\n};\r\nconst updateuser = ()=>{\r\n    let body = {\r\n        fullname: dataadd.value.fullname,\r\n        cin: dataadd.value.cin,\r\n        tel: dataadd.value.tel,\r\n        adresse: dataadd.value.adresse,\r\n        email: dataadd.value.email,\r\n        salaire: dataadd.value.salaire,\r\n        poste: dataadd.value.poste,\r\n        idemplye: dataadd.value.idemplye,\r\n    };\r\n    console.log(body)\r\n    axios.put(`${process.env.VUE_APP_HOST_BACKEND}/users/updateemploye`,body, {\r\n      headers: {\r\n        Authorization: `${tokenjwt}`,\r\n      },\r\n    }).then((response) => {\r\n        readdata()\r\n        toast.add({\r\n          severity: \"success\",\r\n          summary: \"Succes\",\r\n          detail: \"Employé Modifié\",\r\n          life: 3000,\r\n        });\r\n        isdisabled.value=!isdisabled.value;\r\n        databtn.value.label=databtns[0].label\r\n        databtn.value.icon=databtns[0].icon\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n        toast.add({\r\n          severity: \"error\",\r\n          summary: \"Erreur\",\r\n          detail: \"Employé Non Modifié\",\r\n          life: 3000,\r\n        });\r\n      });\r\n};\r\n\r\n</script>\r\n\r\n<template>\r\n\r\n     <div class=\"grid justify-center\">\r\n        <Toast />\r\n        \r\n        <div class=\"col-12 lg:col-6\">\r\n            <div class=\"card p-fluid\">\r\n                <Toolbar class=\"mb-4\" style=\"background-color: white;border: 0;\">\r\n                    <template v-slot:center>\r\n                        <Button :label=\"databtn.label\" :icon=\"databtn.icon\" class=\"p-button-help\" @click=\"edituser()\" />\r\n                    </template>\r\n                </Toolbar>\r\n                <div class=\"field\">\r\n                    <label>Nom & Prenom</label>\r\n                    <InputText autocomplete=\"off\" v-model.trim=\"dataadd.fullname\" :disabled=\"isdisabled\"/>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label>Cin</label>\r\n                    <InputText   autocomplete=\"off\" v-model.trim=\"dataadd.cin\" :disabled=\"isdisabled\"/>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label>Telephone</label>\r\n                    <InputNumber  :useGrouping=\"false\"   autocomplete=\"off\" v-model.trim=\"dataadd.tel\" :disabled=\"isdisabled\"/>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label>Adresse</label>\r\n                    <InputText autocomplete=\"off\" v-model.trim=\"dataadd.adresse\" :disabled=\"isdisabled\"/>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label>Email</label>\r\n                    <InputText type=\"email\" autocomplete=\"off\" v-model.trim=\"dataadd.email\" :disabled=\"isdisabled\"/>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label>Salaire</label>\r\n                    <InputNumber :useGrouping=\"false\"  autocomplete=\"off\" v-model.trim=\"dataadd.salaire\" :disabled=\"isdisabled\"/>\r\n                </div>\r\n                <div class=\"field\">\r\n                    <label>Poste</label>\r\n                    <InputText autocomplete=\"off\" v-model.trim=\"dataadd.poste\" :disabled=\"isdisabled\"/>\r\n                </div>\r\n                <div class=\"field\" v-if=\"!isdisabled\">\r\n            <Button\r\n              label=\"Ajouter Un Employée\"\r\n              class=\"p-button-primary\"\r\n              @click=\"updateuser()\"\r\n              :disabled=\"\r\n                !dataadd.fullname ||\r\n                !dataadd.cin ||\r\n                !dataadd.tel ||\r\n                !dataadd.adresse ||\r\n                !dataadd.email ||\r\n                !dataadd.salaire ||\r\n                !dataadd.poste\r\n              \"\r\n            />\r\n          </div>\r\n            </div>\r\n        </div>\r\n        \r\n     </div>\r\n   \r\n</template>\r\n<style scoped>\r\n    @media screen and (min-width: 992px) {\r\n        .input100{\r\n            width: 355% !important;\r\n            display: block;\r\n        }\r\n    }\r\n    .input100{\r\n        width: 100%;\r\n        display: block;\r\n        color: black;\r\n        opacity: 1 !important;\r\n    }\r\n    .line-seperator{\r\n        border: 3px solid #484bad;\r\n        border-radius: 10px;    \r\n    }\r\n    .justify-center{\r\n        justify-content: center;\r\n    }\r\n</style>\r\n\r\n","import script from \"./UserSettings.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UserSettings.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UserSettings.vue?vue&type=style&index=0&id=243068de&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\vuejs-pla\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-243068de\"]])\n\nexport default __exports__"],"names":["toast","tokenjwt","localStorage","getItem","databtns","icon","label","databtn","dataadd","readdata","async","response","axios","headers","Authorization","value","data","user","error","console","log","isdisabled","edituser","updateuser","body","fullname","cin","tel","adresse","email","salaire","poste","idemplye","then","add","severity","summary","detail","life","catch","__exports__"],"sourceRoot":""}