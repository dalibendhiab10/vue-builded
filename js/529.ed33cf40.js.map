{"version":3,"file":"js/529.ed33cf40.js","mappings":"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","sources":["webpack://client/./src/views/DashboardGestionLoc.vue","webpack://client/./src/views/DashboardGestionLoc.vue?6e2e"],"sourcesContent":["<script setup>\r\nimport { onMounted, reactive, ref, watch } from 'vue';\r\nimport axios from 'axios';\r\nimport { useToast } from 'primevue/usetoast';\r\nconst toast = useToast();\r\n\r\nlet tokenjwt = localStorage.getItem('token');\r\nlet ExistantLocataire = ref([]);\r\nlet Contracts=ref();\r\nlet BiensoonLibre=ref();\r\n\r\nlet updateprogressindex = ref(1);\r\nlet stepone = ref(false);\r\nlet steptwo = ref(false);\r\nlet prolongationdisplay = ref(false);\r\nlet Appartmenttitledialog = ref(null);\r\nlet biendropdownvalues = ref([]);\r\nlet biendropdownvalue = ref(null);\r\nlet selectedLocataireaValue = ref(null);\r\nlet newdate = ref(null);\r\n\r\nconst autoFilteredValue = ref([]);\r\nconst nestedRouteItems = ref([\r\n  {\r\n    label: \"Locataire\",\r\n    to: \"\",\r\n  },\r\n  {\r\n    label: \"Confirmation\",\r\n    to: \"\",\r\n  },\r\n\r\n]);\r\nconst prolongationdata=ref([]);\r\n\r\nlet nextstep = () => {\r\n    let liststeps = document.getElementsByClassName(\"p-steps-item\");\r\n    if (updateprogressindex.value >= 3) {\r\n      updateprogressindex.value = 3;\r\n      liststeps[1].classList.add(\"p-highlight\");\r\n      liststeps[0].classList.remove(\"p-highlight\");\r\n    } else {\r\n      for (let i = 0; i < liststeps.length; i++) {\r\n        if (i == updateprogressindex.value) {\r\n          liststeps[i].classList.add(\"p-highlight\");\r\n        } else {\r\n          liststeps[i].classList.remove(\"p-highlight\");\r\n        }\r\n      }\r\n    }\r\n  \r\n    updateprogressindex.value++;\r\n  \r\n    switch (updateprogressindex.value) {\r\n      case 1:\r\n        setStep(\"Prolongation de contrat\", true, false, false);\r\n        break;\r\n      case 2:\r\n        setStep(\"Confirmation \", false, true, false);\r\n        break;\r\n\r\n    }\r\n  };\r\n  let previousstep = () => {\r\n    updateprogressindex.value--;\r\n  \r\n    let liststeps = document.getElementsByClassName(\"p-steps-item\");\r\n    if (updateprogressindex.value <= 1) {\r\n      updateprogressindex.value = 1;\r\n      liststeps[0].classList.add(\"p-highlight\");\r\n      liststeps[1].classList.remove(\"p-highlight\");\r\n    } else {\r\n      for (let i = 0; i < liststeps.length; i++) {\r\n        if (i + 1 === updateprogressindex.value) {\r\n          liststeps[i].classList.add(\"p-highlight\");\r\n        } else {\r\n          liststeps[i].classList.remove(\"p-highlight\");\r\n        }\r\n      }\r\n    }\r\n  \r\n    switch (updateprogressindex.value) {\r\n      case 1:\r\n        setStep(\"Prolongation de contrat\", true, false, false);\r\n        break;\r\n      case 2:\r\n        setStep(\"Confirmation \", false, true, false);\r\n        break;\r\n\r\n    }\r\n  };\r\n  let setStep = (title, stepOne, stepTwo, stepThree) => {\r\n    Appartmenttitledialog.value = title;\r\n    stepone.value = stepOne;\r\n    steptwo.value = stepTwo;\r\n  };\r\n////////////////////READ PROLONGATION\r\nconst getprolongation =()=>{\r\n  axios.get(`${process.env.VUE_APP_HOST_BACKEND}/statics/get/locations/current-month`,  {\r\n        headers: {\r\n        Authorization: tokenjwt,\r\n        },\r\n    })\r\n    .then((response) => {\r\n        BiensoonLibre.value = response.data;\r\n    })\r\n    .catch((error) => {\r\n        console.log(error);\r\n    });\r\n}\r\nconst readlocataire = () => {\r\n    axios\r\n    .get(`${process.env.VUE_APP_HOST_BACKEND}/payment/get/stegsonede`, {\r\n      headers: {\r\n        Authorization: tokenjwt,\r\n      },\r\n    })\r\n    .then((response) => {\r\n      const responseData = response.data;\r\n\r\n      if (Array.isArray(responseData.data)) {\r\n        prolongationdata.value = responseData.data;\r\n        const locataires = {};\r\n        responseData.data.forEach((item) => {\r\n          const { Idlocataire, fullname } = item;\r\n          if (!(Idlocataire in locataires)) {\r\n            locataires[Idlocataire] = {\r\n              Idlocataire,\r\n              fullname,\r\n              location: item.locationid,\r\n            };\r\n          }\r\n        });\r\n\r\n        const uniqueLocatairesArray = Object.values(locataires);\r\n        ExistantLocataire.value = uniqueLocatairesArray;\r\n      } else {\r\n        console.error(\"responseData is not an array:\", responseData);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nconst newprolongation = () => {\r\n    prolongationdisplay.value = true;\r\n    stepone.value = true;\r\n    steptwo.value = false;\r\n    readlocataire()\r\n    updateprogressindex.value = 1;\r\n    setTimeout(() => {\r\n        let liststeps = document.getElementsByClassName(\"p-steps-item\");\r\n        liststeps[0].classList.add(\"p-highlight\");\r\n        Appartmenttitledialog.value = \"Prolongation de contrat\";\r\n    }, 100);\r\n};\r\n\r\nconst hidedialog = () => {\r\n    prolongationdisplay.value = false;\r\n    updateprogressindex.value = 1;\r\n    stepone.value = false;\r\n    steptwo.value = false;\r\n};\r\nconst searchLocataire = (event) => {\r\n  setTimeout(() => {\r\n    if (!event.query.trim().length) {\r\n      autoFilteredValue.value = [...ExistantLocataire.value];\r\n    } else {\r\n      autoFilteredValue.value = ExistantLocataire.value.filter((filter) => {\r\n        return filter.code.toLowerCase().startsWith(event.query.toLowerCase());\r\n      });\r\n    }\r\n  }, 50);\r\n};\r\nconst changeselectboxSSO = () => {\r\n\r\n  if (\r\n    selectedLocataireaValue.value !== null \r\n  ) {\r\n    const filteredData = prolongationdata.value.filter(\r\n      (item) => item.Idlocataire === selectedLocataireaValue.value.Idlocataire\r\n    );\r\n    let arraybien = [];\r\n    let name = \"\";\r\n    let etage = \"\";\r\n\r\n    filteredData.forEach((loop) => {\r\n        const options = { year: 'numeric', month: 'long', day: 'numeric' ,timeZone: 'UTC' };\r\n        const fromDateString = new Date(loop.from).toLocaleDateString('fr-FR', options); // Format the 'to' date as a string\r\n        const toDateString = new Date(loop.to).toLocaleDateString('fr-FR', options); // Format the 'to' date as a string\r\n\r\n      if (loop.etagenum == \"0\") {\r\n        etage = \"RDC\";\r\n      } else {\r\n        etage = loop.etagenum;\r\n      }\r\n      if (loop.locationid.startsWith(\"APPF\")) {\r\n        name = `Res. ${loop.resname} Etage ${etage} Appartement ${loop.numapp}`;\r\n      } else if (loop.locationid.startsWith(\"LOC\")) {\r\n        name = `Res. ${loop.resname} Etage ${etage} Local Commercial ${\r\n          loop.IndexLocComm + 1\r\n        }`;\r\n      } else if (loop.locationid.startsWith(\"APPL\")) {\r\n        name = `Res. ${loop.resname} Etage ${etage} Appartement ${\r\n          loop.numapp\r\n        } CH ${loop.IndexChambre + 1} lit ${loop.IndexLit + 1}`;\r\n      }\r\n      arraybien.push({\r\n        locataireid: loop.Idlocataire,\r\n        numapp: loop.numapp,\r\n        from: fromDateString,\r\n        to: toDateString,\r\n        id: loop.locationid,\r\n        clientfullname: loop.fullname,\r\n        name: name,\r\n        resname: loop.resname,\r\n        etagenum: loop.etagenum,\r\n        indexLit: loop.IndexLit,\r\n        indexChambre: loop.IndexChambre || null,\r\n        indexLocComm: loop.IndexLocComm || null,\r\n        resrue: loop.resrue,\r\n        cotion: loop.cotion,\r\n      });\r\n    });\r\n    biendropdownvalues.value = arraybien;\r\n  }\r\n};\r\nconst setnewdate = (date)=>{\r\n    const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n    const toDateString = new Date(date).toLocaleDateString('fr-FR', options); // Format the 'to' date as a string\r\n    return toDateString;\r\n}\r\nconst updatedateto =()=>{\r\n    let data={\r\n        newdate:new Date (newdate.value)\r\n    }\r\n    axios.put(`${process.env.VUE_APP_HOST_BACKEND}/statics/update/prolongation/${biendropdownvalue.value.id}`, data, {\r\n      headers: {\r\n        Authorization: `${tokenjwt}`,\r\n      },\r\n    })\r\n    .then(response => {\r\n      if (response.data.success){\r\n        toast.add({\r\n          severity: \"success\",\r\n          summary: \"Succés\",\r\n          detail: \"Prolongation avec succés\",\r\n          life: 3000,\r\n        })\r\n      }\r\n      else{\r\n      \r\n        toast.add({\r\n          severity: \"error\",\r\n          summary: \"Erreur\",\r\n          detail: \"Erreur de prolongation\",\r\n          life: 3000,\r\n        })\r\n      }\r\n      hidedialog()\r\n      getprolongation()\r\n    })\r\n    .catch(error => {\r\n      alert('Wrong user account ' +error )\r\n    });\r\n\r\n}\r\nlet reservationfree=ref();\r\nlet countersaf=ref(0);\r\nlet counterlit=ref(0);\r\nlet counterloc=ref(0);\r\nonMounted(() => {\r\n    getprolongation()\r\n    axios.get(`${process.env.VUE_APP_HOST_BACKEND}/statics/get/Dashboard`,  {\r\n        headers: {\r\n        Authorization: tokenjwt,\r\n        },\r\n    })\r\n    .then((response) => {\r\n        Contracts.value = response.data.data;\r\n        \r\n    })\r\n    .catch((error) => {\r\n        console.log(error);\r\n    });\r\n    axios.get(`${process.env.VUE_APP_HOST_BACKEND}/statics/get/reservation-free`,  {\r\n        headers: {\r\n        Authorization: tokenjwt,\r\n        },\r\n    })\r\n    .then((response) => {\r\n      reservationfree.value = response.data.locationFind;\r\n      \r\n      countersaf.value = response.data.counters.af;\r\n      counterlit.value = response.data.counters.lit;\r\n      counterloc.value = response.data.counters.loc;\r\n    })\r\n    .catch((error) => {\r\n        console.log(error);\r\n    });\r\n    \r\n   \r\n});\r\n\r\n</script>\r\n\r\n<template>\r\n    <Toast />\r\n    <div class=\"grid\" style=\"    justify-content: center;\">\r\n      <RouterLink to=\"/Notrentlocation/AppF/\" class=\"col-12 lg:col-6 xl:col-3\">\r\n          <div class=\"card mb-0\">\r\n              <div class=\"flex justify-content-between mb-3\">\r\n                  <div>\r\n                      <span class=\"block text-500 font-medium mb-3\">Appartement Libre</span>\r\n                      <div class=\"text-900 font-medium text-xl\">{{  countersaf}}</div>\r\n                  </div>\r\n                  <div class=\"flex align-items-center justify-content-center bg-red-100 border-round\" style=\"width: 2.5rem; height: 2.5rem\">\r\n                      <i class=\"fas fa-house text-red-500 text-xl\"></i>\r\n                  </div>\r\n              </div>\r\n\r\n          </div>\r\n      </RouterLink>   \r\n      <RouterLink to=\"/Notrentlocation/LitApp/\" class=\"col-12 lg:col-6 xl:col-3\">\r\n          <div class=\"card mb-0\">\r\n              <div class=\"flex justify-content-between mb-3\">\r\n                  <div>\r\n                      <span class=\"block text-500 font-medium mb-3\">Lits Libres</span>\r\n                      <div class=\"text-900 font-medium text-xl\">{{  counterlit}}</div>\r\n                  </div>\r\n                  <div class=\"flex align-items-center justify-content-center bg-purple-100 border-round\" style=\"width: 2.5rem; height: 2.5rem\">\r\n                      <i class=\"fas fa-procedures text-purple-500 text-xl\"></i>\r\n                  </div>\r\n              </div>\r\n\r\n          </div>\r\n      </RouterLink>\r\n      <RouterLink to=\"/Notrentlocation/localcommercial/\" class=\"col-12 lg:col-6 xl:col-3\">\r\n          <div class=\"card mb-0\">\r\n              <div class=\"flex justify-content-between mb-3\">\r\n                  <div>\r\n                      <span class=\"block text-500 font-medium mb-3\">Local Commercial Libre</span>\r\n                      <div class=\"text-900 font-medium text-xl\">{{counterloc}}</div>\r\n                  </div>\r\n                  <div class=\"flex align-items-center justify-content-center bg-green-100 border-round\" style=\"width: 2.5rem; height: 2.5rem\">\r\n                      <i class=\"fas fa-store text-green-500 text-xl\"></i>\r\n                  </div>\r\n              </div>\r\n\r\n          </div>\r\n      </RouterLink>\r\n    </div>\r\n    <div class=\"grid\">\r\n\r\n        <div class=\"col-12 xl:col-6\">\r\n            <div class=\"card\">\r\n                <Toolbar class=\"mb-4\">\r\n                    <template v-slot:start>\r\n                        <h5 class=\"mb-0\">Contrats à Scanner</h5>\r\n                    </template>\r\n                    <template v-slot:end>\r\n                        <router-link  class=\"p-link layout-topbar-button\"   to=\"/Notrentlocation/LitApp/\">\r\n                            <i class=\"fas fa-external-link-alt fa-lg\" style=\"color: #000000;\"></i>\r\n                        </router-link>\r\n                    </template>\r\n                </Toolbar>\r\n                <DataTable :value=\"Contracts\" :rows=\"5\" :paginator=\"true\" responsiveLayout=\"scroll\">\r\n                \r\n                    <Column field=\"BienName\" header=\"Bien\"  style=\"width: 35%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.BienName }}\r\n                        </template>               \r\n                    </Column>   \r\n                    <Column field=\"FullName\" header=\"Locataire\"  style=\"width: 35%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{ slotProps.data.FullName }}\r\n                        </template>\r\n                    </Column>\r\n\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-12 xl:col-6\">\r\n            <div class=\"card\">\r\n                <Toolbar class=\"mb-4\">\r\n                    <template v-slot:start>\r\n                        <h5 class=\"mb-0\">Prolongation de contrat</h5>\r\n                    </template>\r\n                    \r\n                    <template v-slot:end >\r\n                            <i @click=\"newprolongation()\" class=\"fas fa-external-link-alt fa-lg\" style=\"color: #000000;cursor: pointer;\"></i>\r\n                    </template>\r\n                </Toolbar>\r\n                <DataTable :value=\"BiensoonLibre\" :rows=\"5\" :paginator=\"true\" responsiveLayout=\"scroll\">\r\n                \r\n                    <Column field=\"BienName\" header=\"Bien\"  style=\"width: 35%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{slotProps.data.BienName }}\r\n                        </template>               \r\n                    </Column>   \r\n                    <Column field=\"toDateString\" header=\"Fin de Location\"  style=\"width: 35%\">\r\n                        <template #body=\"slotProps\">\r\n                            {{ slotProps.data.toDateString }}\r\n                        </template>\r\n                    </Column>\r\n\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n  <Dialog\r\n    :header=\"Appartmenttitledialog\"\r\n    v-model:visible=\"prolongationdisplay\"\r\n    class=\"p-fluid fixed-height\"\r\n    :style=\"{ width: '40vw', height: '50vw' }\"\r\n    :breakpoints=\"{ '960px': '75vw', '641px': '100vw' }\"\r\n    :modal=\"true\"\r\n  >\r\n    <div class=\"field\">\r\n      <Steps :model=\"nestedRouteItems\" :readonly=\"true\" />\r\n    </div>\r\n    <div v-if=\"stepone && !steptwo\">\r\n        <div class=\"field\">\r\n            <label>choisir un locataire existant</label>\r\n            <AutoComplete\r\n            placeholder=\"Search\"\r\n            :dropdown=\"true\"\r\n            v-model=\"selectedLocataireaValue\"\r\n            :suggestions=\"autoFilteredValue\"\r\n            @complete=\"searchLocataire($event)\"\r\n            @change=\"changeselectboxSSO()\"\r\n            field=\"fullname\"\r\n            />\r\n        </div>\r\n        <div class=\"field\">\r\n            <label>Choisir Bien</label>\r\n            <Dropdown\r\n            :disabled=\"!selectedLocataireaValue\"\r\n            v-model=\"biendropdownvalue\"\r\n            :options=\"biendropdownvalues\"\r\n            optionLabel=\"name\"\r\n            placeholder=\"Select\"\r\n            />\r\n        </div>\r\n\r\n        <div class=\"field\" v-if=\"biendropdownvalue\"> \r\n          <hr>\r\n            <h4 style=\"  text-align: center;\">A Propos</h4>\r\n            <div class=\"field\">\r\n              <h5>Locataire</h5>\r\n              <label>{{ biendropdownvalue.clientfullname }}</label>\r\n            </div>\r\n            <div class=\"field\">\r\n              <h5>Bien</h5>\r\n              <label>{{ biendropdownvalue.name }}</label>\r\n            </div>\r\n            <div class=\"field\">\r\n              <h5>Debut De location</h5>\r\n              <label>{{ biendropdownvalue.from }}</label>\r\n            </div>\r\n            <div class=\"field\">\r\n              <h5>Fin De location</h5>\r\n              <label>{{ biendropdownvalue.to }}</label>\r\n            </div>\r\n          <hr>\r\n        </div>\r\n        <div class=\"field\">\r\n            <label>Choisir Nouvelle Date de Fin de Location</label>\r\n            <Calendar :showIcon=\"true\" :showButtonBar=\"true\" dateFormat=\"dd/mm/yy\" v-model=\"newdate\"  ></Calendar>\r\n        </div>\r\n    </div>\r\n\r\n    <FadeInOut entry=\"left\" exit=\"right\" :duration=\"100\">\r\n        <div v-if=\"steptwo && !stepone\">\r\n            <div class=\"field\">\r\n                <h5>Locataire</h5>\r\n                <label>{{ biendropdownvalue.clientfullname }}</label>\r\n            </div>\r\n            <div class=\"field\">\r\n                <h5>Bien</h5>\r\n                <label>{{ biendropdownvalue.name }}</label>\r\n            </div>\r\n            <div class=\"field\">\r\n                <h5>Debut De location</h5>\r\n                <label>{{ biendropdownvalue.from }}</label>\r\n            </div>\r\n            <div class=\"field\">\r\n                <h5>Nouvelle Date de Fin de Location</h5>\r\n                <label>{{ setnewdate(newdate) }}</label>\r\n            </div>\r\n        </div>\r\n    </FadeInOut>\r\n    <template #footer>\r\n      <Button\r\n        v-if=\"stepone\"\r\n        label=\"Fermer\"\r\n        icon=\"pi pi-times\"\r\n        class=\"p-button-text\"\r\n        @click=\"hidedialog()\"\r\n      />\r\n      <Button\r\n        v-if=\"!stepone\"\r\n        label=\"Precedant\"\r\n        icon=\"pi pi-arrow-left\"\r\n        class=\"p-button-text\"\r\n        @click=\"previousstep()\"\r\n      />\r\n\r\n\r\n      <Button\r\n        v-if=\"stepone\"\r\n        label=\"suivant\"\r\n        icon=\"pi pi-arrow-right\"\r\n        class=\"p-button-text\"\r\n        @click=\"nextstep()\"\r\n      />\r\n      \r\n      <Button\r\n        v-if=\"steptwo\"\r\n        label=\"Confirmation\"\r\n        icon=\"pi pi-check\"\r\n        class=\"p-button-text\"\r\n        @click=\"updatedateto()\"\r\n      />\r\n\r\n\r\n    </template>\r\n  </Dialog>\r\n</template>\r\n<style>\r\n.mb-0 {\r\n    margin-bottom: 0 !important;\r\n}\r\n</style>","import script from \"./DashboardGestionLoc.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DashboardGestionLoc.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DashboardGestionLoc.vue?vue&type=style&index=0&id=07176ac3&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["toast","tokenjwt","localStorage","getItem","ExistantLocataire","Contracts","BiensoonLibre","updateprogressindex","stepone","steptwo","prolongationdisplay","Appartmenttitledialog","biendropdownvalues","biendropdownvalue","selectedLocataireaValue","newdate","autoFilteredValue","nestedRouteItems","label","to","prolongationdata","nextstep","liststeps","document","getElementsByClassName","value","classList","add","remove","i","length","setStep","previousstep","title","stepOne","stepTwo","stepThree","getprolongation","axios","headers","Authorization","then","response","data","catch","error","console","log","readlocataire","responseData","Array","isArray","locataires","forEach","item","Idlocataire","fullname","location","locationid","uniqueLocatairesArray","Object","values","newprolongation","setTimeout","hidedialog","searchLocataire","event","query","trim","filter","code","toLowerCase","startsWith","changeselectboxSSO","filteredData","arraybien","name","etage","loop","options","year","month","day","timeZone","fromDateString","Date","from","toLocaleDateString","toDateString","etagenum","resname","numapp","IndexLocComm","IndexChambre","IndexLit","push","locataireid","id","clientfullname","indexLit","indexChambre","indexLocComm","resrue","cotion","setnewdate","date","updatedateto","success","severity","summary","detail","life","alert","reservationfree","countersaf","counterlit","counterloc","locationFind","counters","af","lit","loc","__exports__"],"sourceRoot":""}